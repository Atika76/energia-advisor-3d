<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Energia Advisor 3D</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- TOP BAR -->
  <header class="topbar">
    <div class="brand">
      <div class="logo">EA</div>
      <div class="brandText">
        <div class="brandTitle">Energia Advisor 3D</div>
        <div class="brandSub">MVP • valós (C) kalkulátor • később SzakiPiacba integrálható</div>
      </div>
    </div>

    <nav class="nav">
      <button id="btnHome" class="navBtn active">Kezdő</button>
      <button id="btnCalc" class="navBtn">Kalkulátor</button>
      <button id="btn3d" class="navBtn">3D nézet</button>
      <button id="btnDocs" class="navBtn">Tudástár</button>
    </nav>
  </header>

  <main class="container">
    <!-- HOME -->
    <section id="viewHome" class="view">
      <div class="card hero">
        <div class="heroLeft">
          <h1>Energia Advisor 3D</h1>
          <p class="muted">
            Egyszerű, érthető becslés: hőveszteség (UA + infiltráció + HDD) + “valós” kalibrálás a MOST Ft/év alapján.
          </p>

          <div class="heroActions">
            <button id="homeGoCalc" class="btnPrimary">Induljon a kalkulátor</button>
            <button id="homeGoDocs" class="btnGhost">Nézd meg a tudástárat</button>
          </div>

          <div class="note">
            Tipp: állítsd be a MOST költségedet (Ft/év), így a számítás a te valóságodhoz igazodik.
          </div>
        </div>

        <div class="heroRight">
          <div class="miniCard">
            <div class="miniTitle">Mit kapsz?</div>
            <ul class="bullets">
              <li>Most → Cél költség (Ft/év) + megtakarítás</li>
              <li>Prioritás: hol nyersz a legtöbbet</li>
              <li>PRO: hőtérkép MOST / CÉL / KÜLÖNBSÉG</li>
              <li>Tudástár: alapok, szigetelés, fűtés, hibák</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- CALC -->
    <section id="viewCalc" class="view" style="display:none;">
      <div class="grid2">
        <div class="card">
          <div class="sectionTitle">Kalkulátor</div>

          <div class="formGrid">
            <div class="field">
              <label>Alapterület (m²)</label>
              <input id="area" type="number" inputmode="numeric" />
            </div>
            <div class="field">
              <label>Szintek száma</label>
              <select id="storeys">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
              </select>
            </div>
            <div class="field">
              <label>Beltér magasság (m)</label>
              <input id="height" type="number" step="0.1" />
            </div>

            <div class="field">
              <label>Fal típusa</label>
              <select id="wallType">
                <option value="brick">Régi tégla</option>
                <option value="adobe">Vályog</option>
                <option value="concrete">Panel/beton</option>
              </select>
            </div>

            <div class="field">
              <label>Ablakarány a falon (%)</label>
              <input id="winRatio" type="number" />
            </div>
            <div class="field">
              <label>Légcsere (1/h)</label>
              <input id="nAir" type="number" step="0.1" />
            </div>
          </div>

          <div class="hr"></div>

          <div class="splitTitle">MOST (jelenlegi állapot)</div>
          <div class="formGrid">
            <div class="field">
              <label>Fal szigetelés (cm)</label>
              <input id="wallInsNow" type="number" />
            </div>
            <div class="field">
              <label>Fal anyag</label>
              <select id="wallInsMat">
                <option value="eps">EPS</option>
                <option value="rockwool">Kőzetgyapot</option>
                <option value="xps">XPS</option>
              </select>
            </div>

            <div class="field">
              <label>Födém/padlás (cm)</label>
              <input id="roofInsNow" type="number" />
            </div>
            <div class="field">
              <label>Födém anyag</label>
              <select id="roofInsMat">
                <option value="rockwool">Kőzetgyapot</option>
                <option value="eps">EPS</option>
                <option value="xps">XPS</option>
              </select>
            </div>

            <div class="field">
              <label>Padló/aljzat (cm)</label>
              <input id="floorInsNow" type="number" />
            </div>
            <div class="field">
              <label>Padló anyag</label>
              <select id="floorInsMat">
                <option value="xps">XPS</option>
                <option value="eps">EPS</option>
                <option value="rockwool">Kőzetgyapot</option>
              </select>
            </div>

            <div class="field">
              <label>Fűtés típusa (MOST)</label>
              <select id="heatingNow">
                <option value="gas_old">Régi gázkazán</option>
                <option value="gas_cond">Kondenzációs gázkazán</option>
                <option value="hp">Hőszivattyú</option>
              </select>
            </div>
            <div class="field">
              <label>SCOP (ha hőszivattyú)</label>
              <input id="scopNow" type="number" step="0.1" />
            </div>

            <div class="field full">
              <label>Éves fűtési költség MOST (Ft/év)</label>
              <input id="annualCostNow" type="number" inputmode="numeric" />
              <div class="hint">Ez a “valós” kalibrálás alapja.</div>
            </div>
          </div>

          <div class="hr"></div>

          <div class="splitTitle">CÉL (tervezett állapot)</div>
          <div class="formGrid">
            <div class="field">
              <label>Fal szigetelés (cm)</label>
              <input id="wallInsTarget" type="number" />
            </div>
            <div class="field">
              <label>Födém/padlás (cm)</label>
              <input id="roofInsTarget" type="number" />
            </div>
            <div class="field">
              <label>Padló/aljzat (cm)</label>
              <input id="floorInsTarget" type="number" />
            </div>

            <div class="field">
              <label>Fűtés típusa (CÉL)</label>
              <select id="heatingTarget">
                <option value="gas_old">Régi gázkazán</option>
                <option value="gas_cond">Kondenzációs gázkazán</option>
                <option value="hp">Hőszivattyú</option>
              </select>
            </div>
            <div class="field">
              <label>SCOP (ha hőszivattyú)</label>
              <input id="scopTarget" type="number" step="0.1" />
            </div>
          </div>

          <details class="advanced">
            <summary>Haladó beállítások</summary>
            <div class="formGrid">
              <div class="field">
                <label>HDD (fűtési foknap)</label>
                <input id="hdd" type="number" />
              </div>
              <div class="field">
                <label>Gáz ár (Ft/kWh)</label>
                <input id="priceGas" type="number" />
              </div>
              <div class="field">
                <label>Áram ár (Ft/kWh)</label>
                <input id="priceEl" type="number" />
              </div>

              <div class="field">
                <label>Hőhíd korrekció (%)</label>
                <input id="bridge" type="number" />
              </div>

              <div class="field">
                <label>Fal fajlagos ár (Ft/m² / 10 cm)</label>
                <input id="costWallM2" type="number" />
              </div>
              <div class="field">
                <label>Födém fajlagos ár (Ft/m² / 10 cm)</label>
                <input id="costRoofM2" type="number" />
              </div>
              <div class="field">
                <label>Padló fajlagos ár (Ft/m² / 10 cm)</label>
                <input id="costFloorM2" type="number" />
              </div>
              <div class="field full">
                <label>Fűtéscsere becsült költség (Ft)</label>
                <input id="costHeating" type="number" />
              </div>
            </div>
          </details>

          <div class="actions">
            <button id="btnCalcRun" class="btnPrimary">Elemzés</button>
            <button id="btnReset" class="btnGhost">Alapértékek</button>
          </div>
        </div>

        <div class="card">
          <div id="resultBox">
            <div class="sectionTitle">Eredmény</div>
            <div class="muted">Kattints az <b>Elemzés</b> gombra.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3D / HEATMAP -->
    <section id="view3d" class="view" style="display:none;">
      <div class="card">
        <div class="rowBetween">
          <div>
            <div class="sectionTitle">3D nézet (PRO) – hőtérkép</div>
            <div class="muted">A hőtérkép a kalkulátor adataiból számol: UA + infiltráció + HDD → MOST / CÉL / KÜLÖNBSÉG.</div>
          </div>

          <div class="chips">
            <button id="hmModeNow" class="chip active">MOST</button>
            <button id="hmModeTarget" class="chip">CÉL</button>
            <button id="hmModeDelta" class="chip">KÜLÖNBSÉG</button>
          </div>
        </div>

        <div class="muted" style="margin-top:10px;">
          Tipp: módosíts a kalkulátorban, majd gyere vissza ide – automatikusan frissül.
        </div>

        <div class="grid2" style="margin-top:14px;">
          <div class="card inner">
            <div class="miniTitle">Ház – hőveszteség vizuálisan</div>

            <div class="hmWrap">
              <div class="hmLegend">
                <div class="hmLegendItem"><span class="dot dotRed"></span> nagy veszteség</div>
                <div class="hmLegendItem"><span class="dot dotYel"></span> közepes</div>
                <div class="hmLegendItem"><span class="dot dotGrn"></span> kisebb</div>
              </div>

              <div class="hmHouse">
                <div id="hmRoof" class="hmBlock roof">Födém</div>

                <div class="hmMid">
                  <div id="hmWallL" class="hmBlock wall">Fal</div>
                  <div id="hmWallC" class="hmBlock wall center">
                    <div id="hmWin" class="hmBlock window">Ablak</div>
                  </div>
                  <div id="hmWallR" class="hmBlock wall">Fal</div>
                </div>

                <div class="hmBottom">
                  <div id="hmVent" class="hmBlock vent">Légcsere</div>
                  <div id="hmFloor" class="hmBlock floor">Padló</div>
                </div>
              </div>

              <div class="muted hmFoot">
                A színezés az egyes elemek H (W/K) hozzájárulásán alapul (UA + Hvent), hőhíd-korrekcióval.
              </div>
            </div>
          </div>

          <div class="card inner">
            <div class="miniTitle">Bontás (arány + számok)</div>
            <div id="hmList" class="hmList"></div>
            <div class="hr"></div>
            <div class="miniTitle">Gyors értelmezés</div>
            <div id="hmExplain" class="muted"></div>
          </div>
        </div>

        <div class="footnote">
          Megjegyzés: döntéstámogatás. A számítások becslések, a valóságban a szerkezetek, légzárás, hőhidak, árak és szokások erősen befolyásolnak.
        </div>
      </div>
    </section>

    <!-- DOCS -->
    <section id="viewDocs" class="view" style="display:none;">
      <div class="card">
        <div class="rowBetween">
          <div class="sectionTitle">Tudástár</div>
          <div class="muted">Találatok: <b id="docCount">0</b></div>
        </div>

        <div class="docsTop">
          <input id="docSearch" class="search" type="text" placeholder="Keresés (pl. HDD, hőhíd, légcsere, fal...)" />

          <div class="chips docsChips">
            <button id="docChipAll" class="chip active">Összes</button>
            <button id="docChipBasics" class="chip">Alapok</button>
            <button id="docChipIns" class="chip">Szigetelés</button>
            <button id="docChipHeat" class="chip">Fűtés</button>
            <button id="docChipMist" class="chip">Tipikus hibák</button>
            <button id="docChipList" class="chip">Kérdéslista</button>
          </div>
        </div>

        <div class="docsGrid">
          <div id="docList" class="docList"></div>
          <div id="docView" class="docView"></div>
        </div>
      </div>
    </section>
  </main>

  <script src="main.js"></script>
</body>
</html>
