<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Energia Advisor 3D ‚Äì Val√≥s kalkul√°tor (C)</title>

  <!-- Ha van saj√°t style.css-ed, hagyd meg (nem k√∂telez≈ë) -->
  <!-- <link rel="stylesheet" href="./style.css" /> -->

  <style>
    :root{
      --bg1:#0b1220;
      --bg2:#111a2c;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.045);
      --line: rgba(255,255,255,.12);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --muted2: rgba(255,255,255,.58);
      --btn: rgba(84,110,255,.25);
      --btn2: rgba(84,110,255,.35);
      --ok: rgba(90,220,170,.9);
      --warn: rgba(255,190,90,.9);
      --bad: rgba(255,110,120,.9);
      --shadow: 0 18px 55px rgba(0,0,0,.45);
      --radius: 22px;
      --radius2: 14px;
      --pad: 18px;
      --pad2: 14px;
      --max: 1180px;
      font-synthesis-weight:none;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 15% 20%, rgba(90,210,255,.18), transparent 55%),
                  radial-gradient(1200px 900px at 85% 25%, rgba(140,90,255,.18), transparent 55%),
                  linear-gradient(180deg, var(--bg1), var(--bg2));
      color:var(--text);
      min-height:100vh;
    }
    .topbar{
      position:sticky; top:0; z-index:9;
      backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(12,18,32,.86), rgba(12,18,32,.60));
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .topbar-inner{
      max-width: var(--max);
      margin: 0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 14px 16px;
      gap: 14px;
    }
    .brand{display:flex; align-items:center; gap:12px; min-width: 260px;}
    .logo{
      width:44px; height:44px;
      border-radius: 14px;
      display:grid; place-items:center;
      background: linear-gradient(145deg, rgba(90,190,255,.85), rgba(120,90,255,.85));
      box-shadow: var(--shadow);
      font-weight:800;
      letter-spacing:.5px;
    }
    .brand h1{margin:0; font-size:16px; line-height:1.1}
    .brand small{display:block; color:var(--muted2); font-weight:500; margin-top:4px}
    .nav{display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    .pill{
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--text);
      cursor:pointer;
      font-weight:650;
      transition: .15s ease;
      user-select:none;
    }
    .pill:hover{transform: translateY(-1px); background: rgba(255,255,255,.08)}
    .pill.active{border-color: rgba(90,190,255,.45); box-shadow: 0 0 0 3px rgba(90,190,255,.15) inset;}
    .wrap{max-width: var(--max); margin: 26px auto; padding: 0 16px;}
    .card{
      border:1px solid rgba(255,255,255,.10);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: var(--pad);
    }
    .title{
      font-size: 26px;
      margin: 0 0 8px;
      letter-spacing:.2px;
    }
    .subtitle{margin:0 0 18px; color:var(--muted)}
    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 980px){
      .brand{min-width:unset}
      .grid{grid-template-columns:1fr}
      .topbar-inner{align-items:flex-start}
    }
    fieldset{
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      border-radius: var(--radius2);
      padding: 14px;
      margin: 0;
    }
    legend{
      padding: 0 10px;
      color: var(--muted);
      font-weight: 750;
    }
    .row{
      display:grid;
      grid-template-columns: 1.1fr 1fr;
      gap: 10px;
      align-items:center;
      padding: 8px 0;
      border-bottom: 1px dashed rgba(255,255,255,.08);
    }
    .row:last-child{border-bottom:none}
    label{color: var(--muted); font-weight:650}
    input, select{
      width:100%;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(15,22,38,.68);
      color: var(--text);
      outline:none;
    }
    input:focus, select:focus{box-shadow: 0 0 0 3px rgba(90,190,255,.18); border-color: rgba(90,190,255,.35)}
    .help{
      color: var(--muted2);
      font-size: 13px;
      line-height: 1.35;
      margin-top: 10px;
    }
    .btnbar{display:flex; gap:10px; flex-wrap:wrap; margin-top: 14px;}
    .btn{
      padding: 11px 14px;
      border-radius: 14px;
      border: 1px solid rgba(90,190,255,.35);
      background: var(--btn);
      color: var(--text);
      cursor:pointer;
      font-weight: 800;
    }
    .btn:hover{background: var(--btn2)}
    .out{
      margin-top: 14px;
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,.10);
      background: var(--card2);
      padding: 14px;
    }
    .kpi{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-top: 12px;
    }
    @media (max-width: 980px){ .kpi{grid-template-columns:1fr 1fr} }
    .kpi .box{
      border:1px solid rgba(255,255,255,.10);
      border-radius: 16px;
      background: rgba(255,255,255,.03);
      padding: 12px;
      min-height: 70px;
    }
    .kpi .box b{display:block; font-size: 16px; margin-top:6px}
    .kpi .box span{color: var(--muted2); font-size: 13px}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;}
    .sectionTitle{margin:14px 0 8px; font-size: 16px; color: var(--text); font-weight:850;}
    .hr{height:1px; background: rgba(255,255,255,.10); margin: 14px 0;}
    details{
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 16px;
      background: rgba(255,255,255,.03);
      padding: 10px 12px;
      margin-top: 12px;
    }
    summary{cursor:pointer; font-weight:800; color:var(--muted)}
    ul{margin:10px 0 0 18px; color:var(--muted)}
    .muted{color:var(--muted2)}
    .foot{max-width: var(--max); margin: 16px auto 40px; padding: 0 16px; color: var(--muted2);}
    .tag{
      display:inline-block;
      padding: 5px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      font-size: 12px;
      margin-right: 6px;
      color: var(--muted);
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo">EA</div>
        <div>
          <h1>Energia Advisor 3D</h1>
          <small>MVP ‚Ä¢ val√≥s (C) kalkul√°tor ‚Ä¢ k√©s≈ëbb SzakiPiacba integr√°lhat√≥</small>
        </div>
      </div>

      <nav class="nav">
        <button class="pill" id="btnHome">Kezd≈ë</button>
        <button class="pill active" id="btnCalc">Kalkul√°tor</button>
        <button class="pill" id="btn3d">3D n√©zet</button>
        <button class="pill" id="btnDocs">Tud√°st√°r</button>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <!-- HOME -->
    <section class="card" id="viewHome" style="display:none;">
      <h2 class="title">√údv! üë∑‚Äç‚ôÇÔ∏èüè†</h2>
      <p class="subtitle">
        Ez a verzi√≥ <b>fizikai elven sz√°mol</b> (U¬∑A + l√©gcsere + HDD), √©s azt hasonl√≠tja:
        <b>Jelenlegi ‚Üí C√©l</b>. A sz√°mok ez√©rt ‚Äúval√≥sabbak‚Äù, √©s az √∂sszes felt√©telez√©s l√°tszik.
      </p>
      <div class="out">
        <div class="tag">UA + infiltr√°ci√≥</div>
        <div class="tag">HDD (HU √°tlag)</div>
        <div class="tag">g√°z / kondenz / h≈ëszivatty√∫</div>
        <p class="help">
          Fontos: ez d√∂nt√©st√°mogat√°s, nem hivatalos energetikai tan√∫s√≠t√°s. A val√≥s eredm√©nyek f√ºggnek:
          falazatt√≥l, ablakokt√≥l, l√©gz√°r√°st√≥l, h≈ëhidakt√≥l, szok√°sokt√≥l, g√©p√©szett≈ël.
        </p>
      </div>
    </section>

    <!-- CALC -->
    <section class="card" id="viewCalc">
      <h2 class="title">Energia kalkul√°tor (Jelenlegi ‚Üí C√©l)</h2>
      <p class="subtitle">Add meg a mostani √°llapotot √©s a c√©l √°llapotot. A megtakar√≠t√°s √©s megt√©r√ºl√©s a k√ºl√∂nbs√©gb≈ël j√∂n.</p>

      <div class="grid">
        <!-- JELENLEGI -->
        <fieldset>
          <legend>Jelenlegi √°llapot</legend>

          <div class="row">
            <label for="area">Alapter√ºlet (m¬≤)</label>
            <input id="area" type="number" min="20" step="1" value="100">
          </div>

          <div class="row">
            <label for="storeys">Szintek sz√°ma</label>
            <select id="storeys">
              <option value="1" selected>1 szint</option>
              <option value="2">2 szint</option>
              <option value="3">3 szint</option>
            </select>
          </div>

          <div class="row">
            <label for="height">Belmagass√°g (m)</label>
            <input id="height" type="number" min="2.2" max="3.2" step="0.1" value="2.6">
          </div>

          <div class="row">
            <label for="wallType">Falazat t√≠pusa</label>
            <select id="wallType">
              <option value="brick" selected>T√©gla (√°tlagos r√©gi)</option>
              <option value="adobe">V√°lyog (√°tlagos)</option>
              <option value="concrete">Beton/panel (√°tlagos)</option>
            </select>
          </div>

          <div class="row">
            <label for="winRatio">Ablak ar√°ny a falfel√ºlethez (%)</label>
            <input id="winRatio" type="number" min="5" max="35" step="1" value="18">
          </div>

          <div class="row">
            <label for="nAir">L√©gcsere (1/h)</label>
            <input id="nAir" type="number" min="0.2" max="1.2" step="0.05" value="0.6">
          </div>

          <div class="row">
            <label for="wallInsNow">Fal szigetel√©s (cm)</label>
            <input id="wallInsNow" type="number" min="0" max="30" step="1" value="0">
          </div>

          <div class="row">
            <label for="wallInsMat">Fal szigetel√©s anyag</label>
            <select id="wallInsMat">
              <option value="eps" selected>EPS</option>
              <option value="rockwool">K≈ëzetgyapot</option>
              <option value="xps">XPS</option>
            </select>
          </div>

          <div class="row">
            <label for="roofInsNow">F√∂d√©m/padl√°s szigetel√©s (cm)</label>
            <input id="roofInsNow" type="number" min="0" max="50" step="1" value="0">
          </div>

          <div class="row">
            <label for="roofInsMat">F√∂d√©m szigetel√©s anyag</label>
            <select id="roofInsMat">
              <option value="rockwool" selected>K≈ëzetgyapot</option>
              <option value="eps">EPS</option>
              <option value="xps">XPS</option>
            </select>
          </div>

          <div class="row">
            <label for="floorInsNow">Padl√≥/aljzat szigetel√©s (cm)</label>
            <input id="floorInsNow" type="number" min="0" max="20" step="1" value="0">
          </div>

          <div class="row">
            <label for="floorInsMat">Padl√≥ szigetel√©s anyag</label>
            <select id="floorInsMat">
              <option value="xps" selected>XPS</option>
              <option value="eps">EPS</option>
            </select>
          </div>

          <div class="row">
            <label for="heatingNow">F≈±t√©si rendszer</label>
            <select id="heatingNow">
              <option value="gas_old" selected>R√©gi g√°zkaz√°n</option>
              <option value="gas_cond">Kondenz√°ci√≥s g√°zkaz√°n</option>
              <option value="hp">H≈ëszivatty√∫</option>
            </select>
          </div>

          <div class="row">
            <label for="scopNow">H≈ëszivatty√∫ SCOP (ha HP)</label>
            <input id="scopNow" type="number" min="2.2" max="5.0" step="0.1" value="3.2">
          </div>

          <div class="row">
            <label for="annualCostNow">√âves f≈±t√©si k√∂lts√©g MOST (Ft/√©v)</label>
            <input id="annualCostNow" type="number" min="0" step="10000" value="600000">
          </div>

          <p class="help">
            Tipp: ha nem tudod a pontos U-√©rt√©keket, nem baj ‚Äî ez a modell tipikus magyar r√©gi szerkezetb≈ël indul,
            √©s a megadott szigetel√©sb≈ël sz√°molja a v√°ltoz√°st.
          </p>
        </fieldset>

        <!-- CEL -->
        <fieldset>
          <legend>C√©l √°llapot</legend>

          <div class="row">
            <label for="wallInsTarget">Fal szigetel√©s C√âL (cm)</label>
            <input id="wallInsTarget" type="number" min="0" max="30" step="1" value="15">
          </div>

          <div class="row">
            <label for="roofInsTarget">F√∂d√©m/padl√°s C√âL (cm)</label>
            <input id="roofInsTarget" type="number" min="0" max="60" step="1" value="25">
          </div>

          <div class="row">
            <label for="floorInsTarget">Padl√≥/aljzat C√âL (cm)</label>
            <input id="floorInsTarget" type="number" min="0" max="20" step="1" value="10">
          </div>

          <div class="row">
            <label for="heatingTarget">F≈±t√©si rendszer C√âL</label>
            <select id="heatingTarget">
              <option value="gas_old">R√©gi g√°zkaz√°n</option>
              <option value="gas_cond">Kondenz√°ci√≥s g√°zkaz√°n</option>
              <option value="hp" selected>H≈ëszivatty√∫</option>
            </select>
          </div>

          <div class="row">
            <label for="scopTarget">H≈ëszivatty√∫ SCOP C√âL (ha HP)</label>
            <input id="scopTarget" type="number" min="2.2" max="5.0" step="0.1" value="3.6">
          </div>

          <div class="row">
            <label for="hdd">HDD (f≈±t√©si foknap, HU √°tlag)</label>
            <input id="hdd" type="number" min="1800" max="4500" step="50" value="3000">
          </div>

          <div class="row">
            <label for="priceGas">G√°z √°r (Ft/kWh)</label>
            <input id="priceGas" type="number" min="10" max="120" step="1" value="40">
          </div>

          <div class="row">
            <label for="priceEl">Villany √°r (Ft/kWh)</label>
            <input id="priceEl" type="number" min="20" max="180" step="1" value="70">
          </div>

          <details>
            <summary>Halad√≥: k√∂lts√©gek / korrekci√≥k (aj√°nlott)</summary>

            <div class="row">
              <label for="bridge">H≈ëh√≠d korrekci√≥ (%)</label>
              <input id="bridge" type="number" min="0" max="25" step="1" value="10">
            </div>

            <div class="row">
              <label for="costWallM2">Fal szigetel√©s fajlagos (Ft/m¬≤ @10cm)</label>
              <input id="costWallM2" type="number" min="5000" step="500" value="18000">
            </div>

            <div class="row">
              <label for="costRoofM2">F√∂d√©m szigetel√©s fajlagos (Ft/m¬≤ @10cm)</label>
              <input id="costRoofM2" type="number" min="4000" step="500" value="12000">
            </div>

            <div class="row">
              <label for="costFloorM2">Padl√≥ szigetel√©s fajlagos (Ft/m¬≤ @10cm)</label>
              <input id="costFloorM2" type="number" min="6000" step="500" value="15000">
            </div>

            <div class="row">
              <label for="costHeating">F≈±t√©s korszer≈±s√≠t√©s (Ft, egyszeri)</label>
              <input id="costHeating" type="number" min="0" step="50000" value="3500000">
            </div>

            <p class="help">
              Ezek az √∂sszegek ir√°ny√°rak. Ha be√≠rod a saj√°t helyi √°raiddal, a megt√©r√ºl√©s is sokkal val√≥sabb lesz.
            </p>
          </details>

          <div class="btnbar">
            <button class="btn" id="btnCalcRun">Elemz√©s</button>
            <button class="btn" id="btnReset" title="Vissza alapokra">Alap√©rt√©kek</button>
          </div>

          <p class="help">
            <b>Fontos:</b> A MOST k√∂lts√©get (Ft/√©v) te adod meg ‚Äì ezt tekintj√ºk ‚Äúval√≥s‚Äù b√°zisnak.
            A modell ebb≈ël sz√°mol vissza egy ‚ÄúMOST h≈ëig√©nyt‚Äù, majd el≈ëre sz√°molja a C√âL h≈ëig√©nyt.
          </p>
        </fieldset>
      </div>

      <div class="out" id="resultBox">
        <div class="sectionTitle">Eredm√©ny</div>
        <div class="muted">Kattints az <b>Elemz√©s</b> gombra.</div>
      </div>
    </section>

    <!-- 3D -->
    <section class="card" id="view3d" style="display:none;">
      <h2 class="title">3D n√©zet (k√©s≈ëbb)</h2>
      <p class="subtitle">Itt lesz a 3D ‚Äúdobozh√°z‚Äù n√©zet (Three.js) ‚Äì a kalkul√°tor adataib√≥l.</p>
      <div class="out"><span class="muted">K√∂vetkez≈ë k√∂rben j√∂n.</span></div>
    </section>

    <!-- DOCS -->
    <section class="card" id="viewDocs" style="display:none;">
      <h2 class="title">Tud√°st√°r (k√©s≈ëbb)</h2>
      <p class="subtitle">R√∂vid, √©rthet≈ë cikkek: tipikus hib√°k, k√©rd√©slista szakiknak, mire figyelj.</p>
      <div class="out"><span class="muted">K√∂vetkez≈ë k√∂rben j√∂n.</span></div>
    </section>
  </main>

  <div class="foot">
    Megjegyz√©s: d√∂nt√©st√°mogat√°s. A sz√°m√≠t√°sok becsl√©sek, a val√≥s√°gban a szerkezetek, l√©gz√°r√°s, h≈ëhidak, √°rak √©s szok√°sok er≈ësen befoly√°solnak.
  </div>

  <script src="./main.js"></script>
</body>
</html>
